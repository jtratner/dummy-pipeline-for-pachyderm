{
    "pipeline": {
        "name": "consensus{{suffix}}"
    },
    "transform": {
        "image": "consensus:{{version}}",
        "cmd": ["/bin/bash"],
        "stdin": [
            "export SAMPLE_DIR=$(find /pfs/input -name '*.gatk' | head -n 1 | xargs dirname)",
            "/usr/bin/consensus --gatk-vcf=$(find /pfs/input -name '*.gatk') --freebayes-vcf=$(find /pfs/input -name '*.freebayes') --probe-counts=$(find /pfs/input -name '*.probe_counts') --out=$(find /pfs/input -name '*.gatk') --out=$SAMPLE_DIR/consensus.vcf"
        ]
    },
    "input": {
        "atom": {
            "name": "input",
            "repo": "group{{suffix}}",
            "glob": "/*/*"
        }
    }
}
